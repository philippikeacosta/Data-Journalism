<!doctype html>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Home</title>
  <meta name="description" content="Hello World">
  <meta name="author" content="You">


<link rel="shortcut icon" href="#">
  <link href='https://fonts.googleapis.com/css?family=Neucha' rel='stylesheet'>

  <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="../css/styles.css"  media="screen,projection"/>

    <link type="text/css" rel="stylesheet" href="css/styles.css"  media="screen,projection"/>

    <!-- <link rel="stylesheet" type="text/css" href="./inspector.css"> -->

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
</head>

<body>
<!-- <h1>Home</h1> -->
<!-- insert navbar here -->
<nav class="nav-extended purple darken-4">
 <div class="nav-wrapper">
   <a href="#" class="brand-logo"> Life Expectancies and Elections </a>
   <a href="#" data-target="mobile-demo" class="sidenav-trigger"><i class="material-icons">menu</i></a>
   <ul id="nav-mobile" class="right hide-on-med-and-down">
     <li><a href="index.html" class="btn light-blue accent-2">Home</a></li>
     <li><a href="about.html" class="btn #d32f2f red darken-2">About</a></li>
   </ul>
 </div>
</nav>



<h1>Life Expectancies and Elections</h1>

<div id="electionmap"></div>
<div id="lifemap"></div>



  <footer>
    <h6>Created by Philip Pike-Acosta and Frances Cohen (2020)</h6>

    <!-- <script src="../js/plotly-latest.min.js"></script>
    <script src="js/plotly-latest.min.js"></script> -->


        <!-- <script src = "../js/scripts.js"></script>
      <script src = "js/scripts.js"></script> -->


    <!-- <script src = "../data/clean/election.json"></script>
    <script src = "../data/clean/life.json"></script> -->
  </footer>

<script src="js/plotly-latest.min.js"></script>
<script>
  let election = [{"state":"U.S. Total","result":"D","Dvotes":"81282376","Rvotes":"74222576","Ovotes":"2890419","Dpercent":"0.51","Rpercent":"0.47","Opercent":"0.02"},{"state":"Alabama","result":"R","Dvotes":"849624","Rvotes":"1441170","Ovotes":"32488","Dpercent":"0.37","Rpercent":"0.62","Opercent":"0.01"},{"state":"Alaska","result":"R","Dvotes":"153778","Rvotes":"189951","Ovotes":"15801","Dpercent":"0.43","Rpercent":"0.53","Opercent":"0.04"},{"state":"Arizona","result":"D","Dvotes":"1672143","Rvotes":"1661686","Ovotes":"53497","Dpercent":"0.49","Rpercent":"0.49","Opercent":"0.02"},{"state":"Arkansas","result":"R","Dvotes":"423932","Rvotes":"760647","Ovotes":"34490","Dpercent":"0.35","Rpercent":"0.62","Opercent":"0.03"},{"state":"California","result":"D","Dvotes":"11110250","Rvotes":"6006429","Ovotes":"384192","Dpercent":"0.64","Rpercent":"0.34","Opercent":"0.02"},{"state":"Colorado","result":"D","Dvotes":"1804352","Rvotes":"1364607","Ovotes":"87993","Dpercent":"0.55","Rpercent":"0.42","Opercent":"0.03"},{"state":"Connecticut","result":"D","Dvotes":"1080680","Rvotes":"715291","Ovotes":"28302","Dpercent":"0.59","Rpercent":"0.39","Opercent":"0.02"},{"state":"Delaware","result":"D","Dvotes":"296268","Rvotes":"200603","Ovotes":"7475","Dpercent":"0.59","Rpercent":"0.4","Opercent":"0.02"},{"state":"District of Columbia","result":"D","Dvotes":"317323","Rvotes":"18586","Ovotes":"8447","Dpercent":"0.92","Rpercent":"0.05","Opercent":"0.03"},{"state":"Florida","result":"R","Dvotes":"5297045","Rvotes":"5668731","Ovotes":"101680","Dpercent":"0.48","Rpercent":"0.51","Opercent":"0.01"},{"state":"Georgia","result":"D","Dvotes":"2474507","Rvotes":"2461837","Ovotes":"62138","Dpercent":"0.5","Rpercent":"0.49","Opercent":"0.01"},{"state":"Hawaii","result":"D","Dvotes":"366130","Rvotes":"196864","Ovotes":"11475","Dpercent":"0.64","Rpercent":"0.34","Opercent":"0.02"},{"state":"Idaho","result":"R","Dvotes":"287021","Rvotes":"554119","Ovotes":"26091","Dpercent":"0.33","Rpercent":"0.64","Opercent":"0.03"},{"state":"Illinois","result":"D","Dvotes":"3471915","Rvotes":"2446891","Ovotes":"114938","Dpercent":"0.58","Rpercent":"0.41","Opercent":"0.02"},{"state":"Indiana","result":"R","Dvotes":"1242413","Rvotes":"1729516","Ovotes":"61183","Dpercent":"0.41","Rpercent":"0.57","Opercent":"0.02"},{"state":"Iowa","result":"R","Dvotes":"759061","Rvotes":"897672","Ovotes":"34138","Dpercent":"0.45","Rpercent":"0.53","Opercent":"0.02"},{"state":"Kansas","result":"R","Dvotes":"570323","Rvotes":"771406","Ovotes":"30574","Dpercent":"0.42","Rpercent":"0.56","Opercent":"0.02"},{"state":"Kentucky","result":"R","Dvotes":"772474","Rvotes":"1326646","Ovotes":"37648","Dpercent":"0.36","Rpercent":"0.62","Opercent":"0.02"},{"state":"Louisiana","result":"R","Dvotes":"856034","Rvotes":"1255776","Ovotes":"36252","Dpercent":"0.4","Rpercent":"0.59","Opercent":"0.02"},{"state":"Maine","result":"D","Dvotes":"435072","Rvotes":"360737","Ovotes":"23652","Dpercent":"0.53","Rpercent":"0.44","Opercent":"0.03"},{"state":"Maryland","result":"D","Dvotes":"1985023","Rvotes":"976414","Ovotes":"75593","Dpercent":"0.65","Rpercent":"0.32","Opercent":"0.03"},{"state":"Massachusetts","result":"D","Dvotes":"2382202","Rvotes":"1167202","Ovotes":"81998","Dpercent":"0.66","Rpercent":"0.32","Opercent":"0.02"},{"state":"Michigan","result":"D","Dvotes":"2804040","Rvotes":"2649852","Ovotes":"85410","Dpercent":"0.51","Rpercent":"0.48","Opercent":"0.02"},{"state":"Minnesota","result":"D","Dvotes":"1717049","Rvotes":"1484048","Ovotes":"76023","Dpercent":"0.52","Rpercent":"0.45","Opercent":"0.02"},{"state":"Mississippi","result":"R","Dvotes":"539508","Rvotes":"756789","Ovotes":"17597","Dpercent":"0.41","Rpercent":"0.58","Opercent":"0.01"},{"state":"Missouri","result":"R","Dvotes":"1253014","Rvotes":"1718736","Ovotes":"54212","Dpercent":"0.41","Rpercent":"0.57","Opercent":"0.02"},{"state":"Montana","result":"R","Dvotes":"244786","Rvotes":"343602","Ovotes":"15286","Dpercent":"0.41","Rpercent":"0.57","Opercent":"0.03"},{"state":"Nebraska","result":"R","Dvotes":"374583","Rvotes":"556846","Ovotes":"20283","Dpercent":"0.39","Rpercent":"0.59","Opercent":"0.02"},{"state":"Nevada","result":"D","Dvotes":"703486","Rvotes":"669890","Ovotes":"32000","Dpercent":"0.5","Rpercent":"0.48","Opercent":"0.02"},{"state":"New Hampshire","result":"D","Dvotes":"424921","Rvotes":"365654","Ovotes":"15607","Dpercent":"0.53","Rpercent":"0.45","Opercent":"0.02"},{"state":"New Jersey","result":"D","Dvotes":"2608335","Rvotes":"1883274","Ovotes":"57744","Dpercent":"0.57","Rpercent":"0.41","Opercent":"0.01"},{"state":"New Mexico","result":"D","Dvotes":"501614","Rvotes":"401894","Ovotes":"20457","Dpercent":"0.54","Rpercent":"0.44","Opercent":"0.02"},{"state":"New York","result":"D","Dvotes":"5241957","Rvotes":"3250075","Ovotes":"119043","Dpercent":"0.61","Rpercent":"0.38","Opercent":"0.01"},{"state":"North Carolina","result":"R","Dvotes":"2684292","Rvotes":"2758775","Ovotes":"81737","Dpercent":"0.49","Rpercent":"0.5","Opercent":"0.02"},{"state":"North Dakota","result":"R","Dvotes":"114902","Rvotes":"235595","Ovotes":"11322","Dpercent":"0.32","Rpercent":"0.65","Opercent":"0.03"},{"state":"Ohio","result":"R","Dvotes":"2679165","Rvotes":"3154834","Ovotes":"88203","Dpercent":"0.45","Rpercent":"0.53","Opercent":"0.02"},{"state":"Oklahoma","result":"R","Dvotes":"503890","Rvotes":"1020280","Ovotes":"36529","Dpercent":"0.32","Rpercent":"0.65","Opercent":"0.02"},{"state":"Oregon","result":"D","Dvotes":"1340383","Rvotes":"958448","Ovotes":"75490","Dpercent":"0.57","Rpercent":"0.4","Opercent":"0.03"},{"state":"Pennsylvania","result":"D","Dvotes":"3459923","Rvotes":"3378263","Ovotes":"79397","Dpercent":"0.5","Rpercent":"0.49","Opercent":"0.01"},{"state":"Rhode Island","result":"D","Dvotes":"307486","Rvotes":"199922","Ovotes":"10349","Dpercent":"0.59","Rpercent":"0.39","Opercent":"0.02"},{"state":"South Carolina","result":"R","Dvotes":"1091541","Rvotes":"1385103","Ovotes":"36685","Dpercent":"0.43","Rpercent":"0.55","Opercent":"0.02"},{"state":"South Dakota","result":"R","Dvotes":"150471","Rvotes":"261043","Ovotes":"11095","Dpercent":"0.36","Rpercent":"0.62","Opercent":"0.03"},{"state":"Tennessee","result":"R","Dvotes":"1143711","Rvotes":"1852475","Ovotes":"57665","Dpercent":"0.38","Rpercent":"0.61","Opercent":"0.02"},{"state":"Texas","result":"R","Dvotes":"5259126","Rvotes":"5890347","Ovotes":"165583","Dpercent":"0.47","Rpercent":"0.52","Opercent":"0.02"},{"state":"Utah","result":"R","Dvotes":"560282","Rvotes":"865140","Ovotes":"62867","Dpercent":"0.38","Rpercent":"0.58","Opercent":"0.04"},{"state":"Vermont","result":"D","Dvotes":"242820","Rvotes":"112704","Ovotes":"11904","Dpercent":"0.66","Rpercent":"0.31","Opercent":"0.03"},{"state":"Virginia","result":"D","Dvotes":"2413568","Rvotes":"1962430","Ovotes":"84526","Dpercent":"0.54","Rpercent":"0.44","Opercent":"0.02"},{"state":"Washington","result":"D","Dvotes":"2369612","Rvotes":"1584651","Ovotes":"133368","Dpercent":"0.58","Rpercent":"0.39","Opercent":"0.03"},{"state":"West Virginia","result":"R","Dvotes":"235984","Rvotes":"545382","Ovotes":"13286","Dpercent":"0.3","Rpercent":"0.69","Opercent":"0.02"},{"state":"Wisconsin","result":"D","Dvotes":"1630866","Rvotes":"1610184","Ovotes":"56991","Dpercent":"0.49","Rpercent":"0.49","Opercent":"0.02"},{"state":"Wyoming","result":"R","Dvotes":"73491","Rvotes":"193559","Ovotes":"9715","Dpercent":"0.27","Rpercent":"0.7","Opercent":"0.04"}]

    let life = [{"state":"Alabama","avg":"75.5"},{"state":"Alaska","avg":"78.8"},{"state":"Arizona","avg":"79.9"},{"state":"Arkansas","avg":"76"},{"state":"California","avg":"81.3"},{"state":"Colorado","avg":"80.5"},{"state":"Connecticut","avg":"80.9"},{"state":"Delaware","avg":"78.7"},{"state":"District of Columbia","avg":"78.5"},{"state":"Florida","avg":"80.1"},{"state":"Georgia","avg":"77.7"},{"state":"Hawaii","avg":"82"},{"state":"Idaho","avg":"79.4"},{"state":"Illinois","avg":"79.3"},{"state":"Indiana","avg":"77.4"},{"state":"Iowa","avg":"79.6"},{"state":"Kansas","avg":"78.6"},{"state":"Kentucky","avg":"75.9"},{"state":"Louisiana","avg":"76"},{"state":"Maine","avg":"79"},{"state":"Maryland","avg":"79.6"},{"state":"Massachusetts","avg":"80.7"},{"state":"Michigan","avg":"78.2"},{"state":"Minnesota","avg":"81"},{"state":"Mississippi","avg":"74.9"},{"state":"Missouri","avg":"77.6"},{"state":"Montana","avg":"78.6"},{"state":"Nebraska","avg":"79.6"},{"state":"Nevada","avg":"78.4"},{"state":"New Hampshire","avg":"80.1"},{"state":"New Jersey","avg":"80.5"},{"state":"New Mexico","avg":"78.4"},{"state":"New York","avg":"81"},{"state":"North Carolina","avg":"78.1"},{"state":"North Dakota","avg":"79.7"},{"state":"Ohio","avg":"77.6"},{"state":"Oklahoma","avg":"75.8"},{"state":"Oregon","avg":"79.6"},{"state":"Pennsylvania","avg":"78.6"},{"state":"Rhode Island","avg":"79.9"},{"state":"South Carolina","avg":"77"},{"state":"South Dakota","avg":"79.4"},{"state":"Tennessee","avg":"76.3"},{"state":"Texas","avg":"78.8"},{"state":"Utah","avg":"79.8"},{"state":"Vermont","avg":"80"},{"state":"Virginia","avg":"79.4"},{"state":"Washington","avg":"80.3"},{"state":"West Virginia","avg":"75.3"},{"state":"Wisconsin","avg":"79.6"},{"state":"Wyoming","avg":"78.8"}]

      console.log(election);

  let graph = document.getElementById("chart");
  let electionmap = document.getElementById("electionmap");
  let lifemap = document.getElementById("lifemap");
  //console.log(Object.values(election[0]).Dpercent);


  let data = [{
    type: "choroplethmapbox",
    name: "US states",
    geojson: "https://raw.githubusercontent.com/python-visualization/folium/master/examples/data/us-states.json",
    locations: ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "DC", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR",
      "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"
    ],
    z: [election[1].Dpercent, election[2].Dpercent, election[3].Dpercent, election[4].Dpercent, election[5].Dpercent, election[6].Dpercent, election[7].Dpercent, election[8].Dpercent, election[9].Dpercent, election[10].Dpercent, election[11]
      .Dpercent, election[12].Dpercent, election[13].Dpercent, election[14].Dpercent, election[15].Dpercent, election[16].Dpercent, election[17].Dpercent, election[18].Dpercent, election[19].Dpercent, election[20].Dpercent, election[21]
      .Dpercent, election[22].Dpercent, election[23].Dpercent, election[24].Dpercent, election[25].Dpercent, election[26].Dpercent, election[27].Dpercent, election[28].Dpercent, election[29].Dpercent, election[30].Dpercent, election[31]
      .Dpercent, election[32].Dpercent, election[33].Dpercent, election[34].Dpercent, election[35].Dpercent, election[36].Dpercent, election[37].Dpercent, election[38].Dpercent, election[39].Dpercent, election[40].Dpercent, election[41]
      .Dpercent, election[42].Dpercent, election[43].Dpercent, election[44].Dpercent, election[45].Dpercent, election[46].Dpercent, election[47].Dpercent, election[48].Dpercent, election[49].Dpercent, election[50].Dpercent, election[51]
      .Dpercent
    ],
    zmin: 0.27,
    zmax: 0.66,
    colorscale: [
      [0, 'rgb(184,12,9)'],
      [1, 'rgb(0, 170, 255)']
    ],
    colorbar: {
      y: 0,
      yanchor: "bottom",
      title: {
        text: "Biden Vote Share",
        side: "right"
      }
    }
  }];

  let layout = {
    mapbox: {
      style: "dark",
      center: {
        lon: -96,
        lat: 40
      },
      zoom: 3.5
    },
    width: 1200,
    height: 800,
    margin: {
      t: 0,
      b: 0
    }
  };

  let config = {
    mapboxAccessToken: "pk.eyJ1IjoicHBpa2VhIiwiYSI6ImNramV4czZqbzV0ZXcycXJ3OG0wNDBvc3cifQ.MAj1mFEKGNJffhkPrB7J9A"
  };

  Plotly.newPlot(electionmap, data, layout, config).then(gd => {
    gd.on('plotly_click', d => {
      let pt = (d.points || [])[0];
      //console.log(pt.location);
      //console.log(pt.properties.name);
      //console.log(Object.values(data)[0].locations);

      let link = "html/" + pt.properties.name.replace(/ /g, "_") + ".html";
      window.open(link);
    });
  });

  let data2 = [{
    type: "choroplethmapbox",
    name: "US states",
    geojson: "https://raw.githubusercontent.com/python-visualization/folium/master/examples/data/us-states.json",
    locations: ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "DC", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR",
      "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"
    ],
    z: [life[0].avg, life[1].avg, life[2].avg, life[3].avg, life[4].avg, life[5].avg, life[6].avg, life[7].avg, life[8].avg, life[9].avg, life[10].avg, life[11]
      .avg, life[12].avg, life[13].avg, life[14].avg, life[15].avg, life[16].avg, life[17].avg, life[18].avg, life[19].avg, life[20].avg, life[21]
      .avg, life[22].avg, life[23].avg, life[24].avg, life[25].avg, life[26].avg, life[27].avg, life[28].avg, life[29].avg, life[30].avg, life[31]
      .avg, life[32].avg, life[33].avg, life[34].avg, life[35].avg, life[36].avg, life[37].avg, life[38].avg, life[39].avg, life[40].avg, life[41]
      .avg, life[42].avg, life[43].avg, life[44].avg, life[45].avg, life[46].avg, life[47].avg, life[48].avg, life[49].avg, life[50].avg
    ],
    zmin: 75,
    zmax: 82,
    colorscale: [
      [0, 'rgb(184,12,9)'],
      [1, 'rgb(0, 170, 255)']
    ],
    colorbar: {
      y: 0,
      yanchor: "bottom",
      title: {
        text: "Biden Vote Share",
        side: "right"
      }
    }
  }];

  let layout2 = {
    mapbox: {
      style: "dark",
      center: {
        lon: -96,
        lat: 40
      },
      zoom: 3.5
    },
    width: 1200,
    height: 800,
    margin: {
      t: 0,
      b: 0
    }
  };

  let config2 = {
    mapboxAccessToken: "pk.eyJ1IjoicHBpa2VhIiwiYSI6ImNramV4czZqbzV0ZXcycXJ3OG0wNDBvc3cifQ.MAj1mFEKGNJffhkPrB7J9A"
  };

  Plotly.newPlot(lifemap, data2, layout2, config2).then(gd => {
    gd.on('plotly_click', d => {
      let pt = (d.points || [])[0];
      //console.log(pt.location);
      //console.log(pt.properties.name);
      //console.log(Object.values(data)[0].locations);

      let link = "html/" + pt.properties.name.replace(/ /g, "_") + ".html";
      window.open(link);
    });
  });
</script>

</body>

</html>
