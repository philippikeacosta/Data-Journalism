<!doctype html>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Texas</title>
  <meta name="description" content="Hello World">
  <meta name="author" content="You">


<link rel="shortcut icon" href="#">
  <link href='https://fonts.googleapis.com/css?family=Neucha' rel='stylesheet'>

  <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="../css/styles.css"  media="screen,projection"/>

    <link type="text/css" rel="stylesheet" href="css/styles.css"  media="screen,projection"/>

    <!-- <link rel="stylesheet" type="text/css" href="./inspector.css"> -->

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
</head>

<body>
<!-- <h1>Texas</h1> -->
<!-- insert navbar here -->
<nav class="nav-extended purple darken-4">
 <div class="nav-wrapper">
   <a href="#" class="brand-logo"> Life Expectancies and Elections </a>
   <a href="#" data-target="mobile-demo" class="sidenav-trigger"><i class="material-icons">menu</i></a>
   <ul id="nav-mobile" class="right hide-on-med-and-down">
     <li><a href="index.html" class="btn light-blue accent-2">Home</a></li>
     <li><a href="about.html" class="btn #d32f2f red darken-2">About</a></li>
   </ul>
 </div>
</nav>



<h2>Texas</h2>
<body>In Texas, the Democratic candidate received 47 percent of the vote and 5259126 votes,
   while the Republican candidate received 52 percent of the vote and 5890347 votes.<br>
   Nationally, the Democratic candidate received 51 percent of the vote and 81282376 votes,
   while the Republican candidate received 47 percent of the vote and 74222576 votes.

   <br>
   In Texas, the average life expectancy is 78.8. The national life expectancy is 78.7.
 </body>

<div id="electionpie"></div>
<div id="lifechart"></div>


  <footer>
    <h6>Created by Philip Pike-Acosta and Frances Cohen (2020)</h6>

    <!-- <script src="../js/plotly-latest.min.js"></script>
    <script src="js/plotly-latest.min.js"></script> -->


        <!-- <script src = "../js/scripts.js"></script>
      <script src = "js/scripts.js"></script> -->


    <!-- <script src = "../data/clean/election.json"></script>
    <script src = "../data/clean/life.json"></script> -->
  </footer>

<script src="../js/plotly-latest.min.js"></script>
<script>

  let election = {"state":"Texas","result":"R","Dvotes":"5259126","Rvotes":"5890347","Ovotes":"165583","Dpercent":"0.47","Rpercent":"0.52","Opercent":"0.02"}

  let life = {"state":"Texas","avg":"78.8"}

  console.log(election.state);
    console.log(life);

let electionpie = document.getElementById("electionpie");
let lifechart = document.getElementById("lifechart");

var data = [{
  values: [election.Dvotes, election.Rvotes, election.Ovotes],
  labels: ['Democrat', 'Republican', 'Other'],
  marker: {
  colors: [
    'rgb(0, 170, 255)',
    'rgb(184,12,9)',
    'rgb(82, 98, 135)'
  ]
},
  domain: {column: 0},
  name: 'Votes',
  hoverinfo: 'label+percent+name',
  hole: .4,
  type: 'pie'
},
{
  values: [81282376, 74222576, 2890419],
  labels: ['Democrat', 'Republican', 'Other'],
  domain: {column: 1},
  name: 'Votes',
  hoverinfo: 'label+percent+name',
  hole: .4,
  type: 'pie'
}];

var layout = {
  title: 'Vote Share in 2020 Presidential Election',
  annotations: [
    {
      font: {
        size: 20
      },
      showarrow: false,
      text: election.state,
      x: 0,
      y: -0.2
    },
    {
      font: {
        size: 20
      },
      showarrow: false,
      text: 'National',
      x: 0.85,
      y: -0.2
    }
  ],
  height: 400,
  width: 600,
  showlegend: true,
  grid: {rows: 1, columns: 2}
};

Plotly.newPlot('electionpie', data, layout);

var data2 = [
  {
    x: [life.state, 'National'],
    y: [life.avg, 78.7],
    marker:{
  color: ['#B80C09', 'rgba(222,45,38,0.8)']
},
    type: 'bar'
  }
];
var layout2 = {
title: 'Life Expectancy',
 yaxis: {title: 'Life Expectancy (years)'},
  height: 400,
  width: 600,
}

Plotly.newPlot('lifechart', data2, layout2);


</script>
</body>

</html>
